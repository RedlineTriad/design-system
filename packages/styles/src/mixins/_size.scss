@use 'sass:map';
@use 'sass:string';

@use './../themes/bootstrap/core' as *;

@use './../variables/sizing';
@use './../functions/utilities';

@mixin bezel-small() {
  padding: map.get(sizing.$post-sizes, 'mini') map.get(sizing.$post-sizes, 'regular');
}

@mixin bezel-small-regular() {
  padding: map.get(sizing.$post-sizes, 'small-regular') map.get(sizing.$post-sizes, 'regular');
}

@mixin bezel-regular() {
  padding: map.get(sizing.$post-sizes, 'regular');
}

@mixin bezel-bigger-regular() {
  padding: map.get(sizing.$post-sizes, 'small-large');
}

@mixin bezel-medium() {
  padding: map.get(sizing.$post-sizes, 'small-large') map.get(sizing.$post-sizes, 'large');
}

@mixin bezel-large() {
  padding: map.get(sizing.$post-sizes, 'big');
}

@mixin bezel-big() {
  padding: map.get(sizing.$post-sizes, 'bigger-big');
}

/**
 * Generate responsive size properties for things like height, width, margin, padding, etc.
 * @param $curve-size One of the curve sizes predefined at https://www.experience-hub.ch/document/2307#/grundlagen-web/abstaende
 * @param $property Property key (height, width, padding, margin, top, etc.)
 * @param $template Value template string used for shorthand declarations like padding ("$value auto" = padding: 1rem auto)
 */
@mixin responsive-size($curve-size: 'regular', $property-key: 'padding', $template: '$value') {
  $curve: map.get(sizing.$size-curves, $curve-size);

  @if ($curve) {
    $cache: '';

    @each $key, $value in $curve {
      @if ($key == 'xs') {
        #{$property-key}: string.unquote(utilities.replace($template, '$value', $value));
      } @else {
        // Don't write unnecessary media queries
        @if ($cache != $value) {
          @include media-breakpoint-up($key) {
            #{$property-key}: string.unquote(utilities.replace($template, '$value', $value));
          }
        }
      }
      $cache: $value;
    }
  } @else {
    @warn "@mixin responsive-size: Can't find $curve-size: " + $curve-size;
  }
}
